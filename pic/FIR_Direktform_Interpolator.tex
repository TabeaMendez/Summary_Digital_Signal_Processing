% 
% (c) Copyright 2016 Tabea Mendez
% 
% This source is free: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
% 
% This source is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
% 
% You should have received a copy of the GNU General Public License
% along with this source.  If not, see <http://www.gnu.org/licenses/>.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{tikzpicture}[>=latex', scale=1.1]
\def\s{0.3};
\def\l{1.4};
\def\dh{0.8};
\def\dv{0.6};

	% Erste Abteilung	
	\begin{scope}[yshift=0.5cm]
		\draw[line width=1,->](-2*\l-2*\s,0)--node[above]{\footnotesize$x(n)$}node[below]{\footnotesize$f_s$}++(\l,0);
		\coordinate (m) at (-\s-\l,0);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=-3.5pt]{\small$\uparrow$};
		\node at(m)[xshift=2.5pt]{\small$L$};
		\draw[line width=1](-\l,0)--node[above]{\footnotesize$x_{up}(n')$}node[below]{\footnotesize$f_s'$}++(\l,0);


		\coordinate (np) at (0,0);
		\draw[line width=1,->](np)--++(\dh,0);
		\draw[line width=1,->](np)--++(0,-2*\dv-0.5)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm,CadetRed]{\Large$\ast$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$}node[xshift=-1.8cm,yshift=1.1cm,CadetRed]{\Large$\ast$}node[xshift=-2.8cm,yshift=1.1cm]{\small$0$}node[xshift=-3.6cm,yshift=1.1cm]{\small$\dots$}node[xshift=-4.4cm,yshift=1.1cm]{\small$0$};

		\coordinate (m) at (0,-\dv-0.5);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};

		\coordinate (m) at (\dh,0);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{0}$};
		\coordinate (m) at (\dh,-2*\dv-0.5);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{1}$};

		\draw[line width=1](np)++(\dh+2*\s,0)--(2.5*\dh+2*\s,0);
		\draw[line width=1](np)++(\dh+2*\s,-2*\dv-0.5)--++(0.95*\dh,0)--(2.5*\dh+2*\s,0);

		\draw[line width=1,->](np)++(2.5*\dh+2*\s,0)--node[above]{\footnotesize$y_{up}(n')$}node[below]{\footnotesize$f_s'$}++(1.2*\l,0);


	\end{scope}

	% Zeite Abteilung
	\begin{scope}[yshift=-1.5cm]
		\coordinate (np) at (0,0);
		\draw[line width=1,dashed, dash phase=-0pt, dash pattern=on 3.2pt off 3pt](np)++(0,0.5*\dv)--++(0,{-(2*\dv-\s)});
		\draw[line width=1](np)++(0,-1.5*\dv)--++(0,-5*\dv);
		\draw[line width=1,->](np)++(0,-2.5*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm,CadetRed]{\Large$\ast$}node[xshift=-1.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-2.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-3.6cm,yshift=1.1cm]{\small$\iddots$}node[xshift=-4.4cm,yshift=1.1cm]{\small$\vdots$};
		\draw[line width=1,->](np)++(0,-4.5*\dv)--++(\dh,0)node[xshift=-1.8cm,blueT]{\Large$\ast$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$};
		\draw[line width=1,->](np)++(0,-6.5*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm,blueT]{\Large$\ast$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$};

		\coordinate (m) at (0,-1.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};
		\coordinate (m) at (0,-3.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};
		\coordinate (m) at (0,-5.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};

		\coordinate (m) at (\dh,-2.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{L-1}$};
		\coordinate (m) at (\dh,-4.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{L}$};
		\coordinate (m) at (\dh,-6.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{L+1}$};

		\draw[line width=1](np)++(\dh+2*\s,-2.5*\dv)--++(0.75*\dh,0)--(2.5*\dh+2*\s,2);
		\draw[line width=1](np)++(\dh+2*\s,-4.5*\dv)--++(0.775*\dh,0)--(2.5*\dh+2*\s,2);
		\draw[line width=1](np)++(\dh+2*\s,-6.5*\dv)--++(0.8*\dh,0)--(2.5*\dh+2*\s,2);

	\end{scope}



	% Dritte Abteilung
	\begin{scope}[yshift=-5.7cm]
		\coordinate (np) at (0,0);
		\draw[line width=1,dashed, dash phase=-0pt, dash pattern=on 3.2pt off 3pt](np)++(0,0.5*\dv)--++(0,{-(2*\dv-\s)});
		\draw[line width=1](np)++(0,-1.5*\dv)--++(0,-5*\dv);
		\draw[line width=1,->](np)++(0,-2.5*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\Large$\ast$}node[xshift=-1.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-2.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-3.6cm,yshift=1.1cm]{\small$\iddots$}node[xshift=-4.4cm,yshift=1.1cm]{\small$\vdots$};
		\draw[line width=1,->](np)++(0,-4.5*\dv)--++(\dh,0)node[xshift=-1.8cm,greenT]{\Large$\ast$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$};
		\draw[line width=1,->](np)++(0,-6.5*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm,greenT]{\Large$\ast$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$};

		\coordinate (m) at (0,-1.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};
		\coordinate (m) at (0,-3.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};
		\coordinate (m) at (0,-5.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};

		\coordinate (m) at (\dh,-2.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{iL-1}$};
		\coordinate (m) at (\dh,-4.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{iL}$};
		\coordinate (m) at (\dh,-6.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{iL+1}$};

		\draw[line width=1](np)++(\dh+2*\s,-2.5*\dv)--++(0.8*\dh,0)--(2.5*\dh+2*\s,6.2);
		\draw[line width=1](np)++(\dh+2*\s,-4.5*\dv)--++(0.875*\dh,0)--(2.5*\dh+2*\s,6.2);
		\draw[line width=1](np)++(\dh+2*\s,-6.5*\dv)--++(0.95*\dh,0)--(2.5*\dh+2*\s,6.2);
	\end{scope}


	% Vierte Abteilung
	\begin{scope}[yshift=-9.9cm]
		\coordinate (np) at (0,0);
		\draw[line width=1,dashed, dash phase=-0pt, dash pattern=on 3.2pt off 3pt](np)++(0,0.5*\dv)--++(0,{-(2*\dv-\s)});
		\draw[line width=1](np)++(0,-1.5*\dv)--++(0,-5*\dv);
		\draw[line width=1,->](np)++(0,-2.5*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\Large$\ast$}node[xshift=-1.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-2.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-3.6cm,yshift=1.1cm]{\small$\iddots$}node[xshift=-4.4cm,yshift=1.1cm]{\small$\vdots$};
		\draw[line width=1,->](np)++(0,-4.5*\dv)--++(\dh,0)node[xshift=-1.8cm,orangeT]{\Large$\ast$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$};
		\draw[line width=1,->](np)++(0,-6.5*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm,orangeT]{\Large$\ast$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm]{\small$0$};

		\coordinate (m) at (0,-1.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};
		\coordinate (m) at (0,-3.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};
		\coordinate (m) at (0,-5.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};

		\draw[line width=1](np)++(\dh+2*\s,-2.5*\dv)--++(1.05*\dh,0)--(2.5*\dh+2*\s,10.4);
		\draw[line width=1](np)++(\dh+2*\s,-4.5*\dv)--++(1.2*\dh,0)--(2.5*\dh+2*\s,10.4);
		\draw[line width=1](np)++(\dh+2*\s,-6.5*\dv)--++(1.35*\dh,0)--(2.5*\dh+2*\s,10.4);
		\draw[line width=1](np)++(\dh+2*\s,-2.5*\dv-4.2)--++(1.5*\dh,0)--(2.5*\dh+2*\s,14.6-4.2);

		\draw[white,fill](2,-1.3)++(0,-0.05)--++(1,0)--++(0,0.34)--++(-1,0)--cycle;
		\draw[white,fill](2,-2.51)++(0,-0.05)--++(0.45,0)--++(0,0.34)--++(-0.45,0)--cycle;
		\draw[white,fill](2,-3.71)++(0,-0.05)--++(1,0)--++(0,0.34)--++(-1,0)--cycle;

		\coordinate (m) at (\dh,-2.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{(2M-1)L-1}$};
		\coordinate (m) at (\dh,-4.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{(2M-1)L}$};
		\coordinate (m) at (\dh,-6.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{(2M-1)L+1}$};


	\end{scope}

	% Fünfte Abteilung
	\begin{scope}[yshift=-14.1cm]
		\coordinate (np) at (0,0);
		\draw[line width=1,dashed, dash phase=-0pt, dash pattern=on 3.2pt off 3pt](np)++(0,0.5*\dv)--++(0,{-(2*\dv-\s)});
		\draw[line width=1,->](np)++(0,-1.5*\dv)--++(0,-1*\dv)--++(\dh,0)node[xshift=-1.8cm]{\small$0$}node[xshift=-2.8cm]{\small$0$}node[xshift=-3.6cm]{\small$\dots$}node[xshift=-4.4cm,orangeT]{\Large$\ast$}node[xshift=-1.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-2.8cm,yshift=1.1cm]{\small$\vdots$}node[xshift=-3.6cm,yshift=1.1cm]{\small$\iddots$}node[xshift=-4.4cm,yshift=1.1cm]{\small$\vdots$};

		\coordinate (m) at (0,-1.5*\dv);
		\draw[line width=1,fill=white](m)++(-\s,-\s)--++(2*\s,0)--++(0,2*\s)--++(-2*\s,0)--cycle node at(m)[xshift=0pt]{\small$\zeta^{\text{-}1}$};


		\coordinate (m) at (\dh,-2.5*\dv);
		\draw[line width=1,fill=white](m)--++(0,1.1*\s)--++(2.1*\s,-1.1*\s)--++(-2.1*\s,-1.1*\s)--cyclenode at(m)[right, xshift=5pt,yshift=11pt]{\small$h_{2ML-1}$};

	\end{scope}


	% Addirer
	\draw[line width=1,white,fill](2.5*\dh+2*\s,0.5)circle(5.5pt)node[black]{\Large$\bigoplus$};


\end{tikzpicture}
